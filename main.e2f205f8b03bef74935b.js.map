{"version":3,"sources":["webpack:///./templates/full-country-info.hbs","webpack:///./js/refs.js","webpack:///./index.js","webpack:///./js/fetchCountries.js","webpack:///./templates/country.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","lambda","refs","searchQuery","document","querySelector","countryWrapper","countriesWrapper","flagOverflow","debounce","require","clearCountriesList","innerHTML","clearFlagsStyle","style","backgroundImage","addEventListener","event","inputValue","target","value","getInputQuery","fetch","then","json","countries","numberOfCountries","length","country","markup","fullCoutryInfo","obj","insertAdjacentHTML","countriesMarkup","countTemp","addCoutriesListToHTML","error","text","type","title","animateSpeed","catch","console","log"],"mappings":"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","file":"main.e2f205f8b03bef74935b.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country__title\\\">\\n  Страна: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":10},\"end\":{\"line\":3,\"column\":18}}}) : helper)))\n    + \"\\n</h2>\\n<div class=\\\"country__wrapper\\\">\\n  <div class=\\\"country__desctiption\\\">\\n\\n    <ul class=\\\"description__list\\\">\\n\\n      <li class=\\\"desctioption__item\\\">\\n        <h3 class=\\\"desctioption__title\\\">Столица: <span class=\\\"description__title-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":88},\"end\":{\"line\":11,\"column\":99}}}) : helper)))\n    + \"</span></h3>\\n      </li>\\n\\n      <li class=\\\"desctioption__item\\\">\\n        <h3 class=\\\"desctioption__title\\\">Население: <span class=\\\"description__title-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":90},\"end\":{\"line\":15,\"column\":104}}}) : helper)))\n    + \"</span>\\n        </h3>\\n      </li>\\n\\n      <li class=\\\"desctioption__item\\\">\\n\\n        <h3 class=\\\"desctioption__title\\\">Язык: <ul class=\\\"descrioption__language-list\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":12},\"end\":{\"line\":27,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"\\n          </ul>\\n        </h3>\\n      </li>\\n    </ul>\\n  </div>\\n\\n  <div class=\\\"flag__wrapper\\\">\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":36,\"column\":14},\"end\":{\"line\":36,\"column\":22}}}) : helper)))\n    + \"\\\" alt=\\\"flag\\\" width=\\\"320\\\">\\n  </div>\\n</div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <li class=\\\"description__language-item\\\">\\n              \"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\n            </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":39,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export const refs = {\n  searchQuery: document.querySelector('.input-name'),\n  countryWrapper: document.querySelector('.countries__wrapper'),\n  countriesWrapper: document.querySelector('.countries__wrapper'),\n  flagOverflow: document.querySelector('.flag__overflow'),\n};\n","import './css/normalize.css';\nimport './scss/base-styles.scss';\nimport './scss/styles.scss';\n\nimport { error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\n\nimport { refs } from './js/refs';\nimport fetchCountries from './js/fetchCountries';\n\nimport countTemp from './templates/country.hbs';\nimport fullCoutryInfo from './templates/full-country-info.hbs';\n\nconst debounce = require('lodash.debounce');\n\nrefs.searchQuery.addEventListener(\n  'input',\n  debounce(handleGenerateListFromResponse, 500),\n);\n\nfunction handleGenerateListFromResponse(event) {\n  let inputValue = getInputQuery(event);\n\n  if (inputValue) {\n    getCountriesList(inputValue);\n  }\n}\n\nfunction getInputQuery(event) {\n  return event.target.value;\n}\n\nfunction addCoutriesListToHTML(countriesMarkup) {\n  const markup = countTemp(countriesMarkup);\n\n  clearFlagsStyle();\n\n  refs.countryWrapper.innerHTML = '';\n  refs.countryWrapper.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction addFullCoutryInfo(country) {\n  const markup = fullCoutryInfo(country);\n\n  addBackgroundImage(country);\n\n  clearCountriesList();\n\n  refs.countryWrapper.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearCountriesList() {\n  refs.countryWrapper.innerHTML = '';\n}\n\nfunction selectTypeOutputInfo(numberOfCountries) {\n  if (numberOfCountries.length < 2) {\n    addFullCoutryInfo(numberOfCountries);\n  }\n  if (numberOfCountries.length > 2 && numberOfCountries.length < 10) {\n    addCoutriesListToHTML(numberOfCountries);\n  }\n  if (numberOfCountries.length > 10) {\n    makePNotify();\n  }\n}\n\nfunction makePNotify() {\n  clearCountriesList();\n  clearFlagsStyle();\n\n  const myError = error({\n    text: 'Найдено слишком много совпадений, уточните ваш запрос',\n    type: 'error',\n    title: 'Ошибка',\n    animateSpeed: 'fast',\n  });\n}\n\nfunction addBackgroundImage(obj) {\n  refs.flagOverflow.style.backgroundImage = `url(${obj[0]['flag']})`;\n}\n\nfunction clearFlagsStyle() {\n  refs.flagOverflow.style.backgroundImage = `url()`;\n}\n\nfunction getCountriesList(value) {\n  fetchCountries(value)\n    .then(countries => selectTypeOutputInfo(countries))\n    .catch(error => console.log(error));\n}\n","export default function fetchCountries(searchQuery) {\n  return fetch(\n    `https://restcountries.eu/rest/v2/name/${searchQuery}`,\n  ).then(data => data.json());\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries-list\\\">\\n\\n\t<li>\\n\t\t<h2>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":5,\"column\":14}}}) : helper)))\n    + \"</h2>\\n\t</li>\\n\\n</ul>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":9,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}